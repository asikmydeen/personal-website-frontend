@tailwind base;

@layer base {
  :root {
    --radius: 0.75rem;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Playful Theme V3 - Modified for glass effect */
    --playful-page-background: 30 50% 98%;
    --playful-content-text-color: 210 15% 25%;

    /* Updated for glass effect */
    --playful-header-background: 0 0% 100%;
    --playful-header-text-color: 210 15% 25%;

    --playful-sider-background: 0 0% 100%;
    --playful-sider-text-color: 210 15% 25%;

    /* Updated for glass effect */
    --playful-sider-logo-background: 0 0% 97%;
    --playful-sider-logo-text-color: 210 15% 25%;

    /* Updated for more vibrant hover effects */
    --playful-menu-item-hover-background: 215 70% 45%;
    --playful-menu-item-hover-text-color: 0 0% 100%;

    --playful-menu-item-selected-background: 190 70% 55%;
    --playful-menu-item-selected-text-color: 0 0% 100%;

    /* Updated for glass effect with shadow variables */
    --playful-card-background: 0 0% 100%;
    --playful-card-border-color: 210 20% 88%;
    --playful-card-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
    --playful-card-shadow-hover: 0 12px 24px rgba(0, 0, 0, 0.12);

    /* Common shadow variables for all components */
    --shadow-xs: 0 2px 4px rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.07);
    --shadow-md: 0 6px 12px rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 14px 28px rgba(0, 0, 0, 0.12), 0 10px 10px rgba(0, 0, 0, 0.08);

    /* Hover shadow variations */
    --shadow-hover-sm: 0 5px 10px rgba(0, 0, 0, 0.1);
    --shadow-hover-md: 0 8px 16px rgba(0, 0, 0, 0.12);
    --shadow-hover-lg: 0 12px 24px rgba(0, 0, 0, 0.15);
    --shadow-hover-xl: 0 18px 36px rgba(0, 0, 0, 0.18), 0 14px 14px rgba(0, 0, 0, 0.1);

    /* Alias for card background to ensure theme consistency */
    --card-bg: var(--playful-card-background);

    /* Updated for more vibrant buttons with shadows */
    --playful-button-primary-background: 185 50% 60%;
    --playful-button-primary-text-color: 0 0% 100%;
    --playful-button-primary-hover-background: 185 50% 50%;
    --playful-button-shadow: 0 4px 8px rgba(24, 144, 255, 0.25);
    --playful-button-shadow-hover: 0 6px 12px rgba(24, 144, 255, 0.4);

    --playful-link-text-color: 190 60% 55%;
    --playful-link-hover-text-color: 190 60% 45%;

    --playful-focus-ring-color: 185 55% 65%;
    --playful-input-background: 0 0% 97%;
    --playful-input-placeholder-color: 210 15% 55%;
  }

  .dark {
    /* Dark mode for sidebar */
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Dark mode for playful theme - updated for glass effect */
    --playful-page-background: 220 20% 10%;
    --playful-content-text-color: 210 15% 95%;

    /* Updated for glass effect */
    --playful-header-background: 220 20% 15%;
    --playful-header-text-color: 210 15% 95%;

    --playful-sider-background: 220 20% 15%;
    --playful-sider-text-color: 210 15% 95%;

    /* Updated for glass effect */
    --playful-sider-logo-background: 220 20% 20%;
    --playful-sider-logo-text-color: 210 15% 95%;

    /* Updated for more vibrant hover effects */
    --playful-menu-item-hover-background: 215 70% 40%;
    --playful-menu-item-hover-text-color: 0 0% 100%;

    --playful-menu-item-selected-background: 190 70% 45%;
    --playful-menu-item-selected-text-color: 0 0% 100%;

    /* Updated for glass effect with shadow variables */
    --playful-card-background: 220 20% 15%;
    --playful-card-border-color: 220 20% 30%;
    --playful-card-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
    --playful-card-shadow-hover: 0 12px 24px rgba(0, 0, 0, 0.35);

    /* Common shadow variables for all components in dark mode */
    --shadow-xs: 0 2px 4px rgba(0, 0, 0, 0.15);
    --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.2);
    --shadow-md: 0 6px 12px rgba(0, 0, 0, 0.25);
    --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.3);
    --shadow-xl: 0 14px 28px rgba(0, 0, 0, 0.35), 0 10px 10px rgba(0, 0, 0, 0.25);

    /* Hover shadow variations for dark mode */
    --shadow-hover-sm: 0 5px 10px rgba(0, 0, 0, 0.25);
    --shadow-hover-md: 0 8px 16px rgba(0, 0, 0, 0.3);
    --shadow-hover-lg: 0 12px 24px rgba(0, 0, 0, 0.35);
    --shadow-hover-xl: 0 18px 36px rgba(0, 0, 0, 0.4), 0 14px 14px rgba(0, 0, 0, 0.3);

    /* Alias for card background to ensure theme consistency in dark mode */
    --card-bg: var(--playful-card-background);

    /* Updated for more vibrant buttons with shadows */
    --playful-button-primary-background: 185 50% 50%;
    --playful-button-primary-text-color: 0 0% 100%;
    --playful-button-primary-hover-background: 185 50% 40%;
    --playful-button-shadow: 0 4px 8px rgba(24, 144, 255, 0.35);
    --playful-button-shadow-hover: 0 6px 12px rgba(24, 144, 255, 0.5);

    --playful-link-text-color: 190 60% 65%;
    --playful-link-hover-text-color: 190 60% 75%;

    --playful-focus-ring-color: 185 55% 55%;
    --playful-input-background: 220 20% 20%;
    --playful-input-placeholder-color: 210 15% 65%;
  }
}

@tailwind components;
@tailwind utilities;

@layer components {
  /* Base sidebar menu styling with consistent text coloring */
  .sidebar-menu.ant-menu {
    color: hsl(var(--playful-sider-text-color)) !important;
    background: transparent !important;
  }

  .sidebar-menu.ant-menu .ant-menu-item {
    margin: 4px 8px;
    border-radius: var(--radius);
  }

  .sidebar-menu.ant-menu .ant-menu-item a,
  .sidebar-menu.ant-menu .ant-menu-item-icon,
  .sidebar-menu.ant-menu .anticon,
  .sidebar-menu.ant-menu span[role="img"] {
    color: hsl(var(--playful-sider-text-color)) !important;
  }

  /* Playful Sider Menu Styles */
  .playful-sider .ant-menu-light {
    background: transparent !important;
  }

  .playful-sider .ant-menu-item {
    margin: 5px 8px;
    position: relative;
    transition: transform 0.2s ease-out, background-color 0.3s ease;
    border-radius: var(--radius);
  }

  .playful-sider .ant-menu-item a,
  .playful-sider .ant-menu-item .ant-menu-item-icon,
  /* Target icon wrapper */
  .playful-sider .ant-menu-item .anticon
  /* Target anticon directly if needed */
  {
    color: hsl(var(--playful-sider-text-color)) !important;
    transition: color 0.3s ease;
    /* Removed background-color transition from here */
  }

  .playful-sider .ant-menu-item span[role="img"] {
    /* Target the emoji span specifically */
    color: hsl(var(--playful-sider-text-color)) !important;
    transition: color 0.3s ease;
  }

  /* Hover styles for text/icon color - transform is handled by .ant-menu-item:hover */
  .playful-sider .ant-menu-item:hover a,
  .playful-sider .ant-menu-item:hover .ant-menu-item-icon,
  .playful-sider .ant-menu-item:hover .anticon {
    color: hsl(var(--playful-menu-item-hover-text-color)) !important;
  }

  .playful-sider .ant-menu-item:hover span[role="img"] {
    color: hsl(var(--playful-menu-item-hover-text-color)) !important;
  }

  .playful-sider .ant-menu-item-selected {
    /* Apply hover background also to selected for consistency, or use a specific selected background */
    background-color: hsl(var(--playful-menu-item-selected-background)) !important;
    border-radius: var(--radius);
    /* Optional: add some rounding */
  }

  .playful-sider .ant-menu-item:hover {
    background-color: hsl(var(--playful-menu-item-hover-background)) !important;
    /* Add hover background */
    transform: translateY(-2px) scale(1.02);
    /* Reduced lift and scale to prevent overlap */
    z-index: 1; /* Ensure hover item stays on top */
  }

  .playful-sider .ant-menu-item-selected a,
  .playful-sider .ant-menu-item-selected .ant-menu-item-icon,
  .playful-sider .ant-menu-item-selected .anticon {
    color: hsl(var(--playful-menu-item-selected-text-color)) !important;
  }

  .playful-sider .ant-menu-item-selected span[role="img"] {
    color: hsl(var(--playful-menu-item-selected-text-color)) !important;
  }

  /* Ensure the :after pseudo-element for selected item border is not shown or styled appropriately if desired */
  .playful-sider .ant-menu-item-selected::after {
    border-right: none !important;
  }

  /* Playful Dropdown Menu Styles */
  .ant-dropdown-menu {
    background-color: hsl(var(--playful-card-background)) !important;
    border-radius: var(--radius) !important;
    border: 1px solid hsl(var(--playful-card-border-color)) !important;
    box-shadow: 0 6px 16px hsla(var(--playful-content-text-color), 0.15) !important;
    padding: 4px !important;
    /* Antd default is 4px, can adjust if needed */
  }

  .ant-dropdown-menu-item {
    color: hsl(var(--playful-content-text-color)) !important;
    border-radius: calc(var(--radius) - 2px) !important;
    /* Slightly smaller radius for items */
  }

  .ant-dropdown-menu-item a {
    color: hsl(var(--playful-content-text-color)) !important;
  }

  .ant-dropdown-menu-item:hover,
  .ant-dropdown-menu-item-active {
    /* :active is used by antd for keyboard navigation */
    background-color: hsl(var(--playful-menu-item-hover-background)) !important;
    /* Re-using sider hover for consistency */
    color: hsl(var(--playful-menu-item-hover-text-color)) !important;
  }

  .ant-dropdown-menu-item:hover a,
  .ant-dropdown-menu-item-active a {
    color: hsl(var(--playful-menu-item-hover-text-color)) !important;
  }

  .ant-dropdown-menu-item-divider {
    background-color: hsl(var(--playful-card-border-color)) !important;
  }

  /* Sidebar styling - removed trigger button styles as they're no longer needed */

  /* Sidebar menu styling - consistent with collapsed state */
  .playful-sider .sidebar-menu {
    margin-top: 1.5rem;
    display: flex;
    flex-direction: column;
    height: calc(100vh - 150px); /* Match collapsed state height */
    padding: 20px 0; /* Match collapsed state padding */
    justify-content: space-evenly;
  }

  /* Menu items styling in expanded sidebar */
  .playful-sider .sidebar-menu .ant-menu-item {
    display: flex;
    justify-content: flex-start;
    border-radius: 8px;
    transition: all 0.2s ease;
    padding-left: 20px; /* Add left padding for better alignment */
  }

  /* Add hover effect for expanded sidebar items - consistent with collapsed state */
  .playful-sider .sidebar-menu .ant-menu-item:hover {
    background-color: hsl(var(--playful-menu-item-hover-background)) !important;
    transform: scale(1.02);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    cursor: pointer;
  }

  /* Simplified collapsed sidebar menu with centered icons and proper spacing */
  .playful-sider.ant-layout-sider-collapsed .sidebar-menu {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-evenly;
    height: calc(100vh - 150px); /* Fixed height to ensure vertical centering */
    padding: 20px 0;
    margin: 0 auto;
  }

  /* Make menu items appropriately sized and centered in collapsed sidebar */
  .playful-sider.ant-layout-sider-collapsed .sidebar-menu .ant-menu-item {
    margin: 8px 0;
    padding: 0;
    height: 50px;
    width: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    position: relative;
    left: 0;
    transform: none;
  }

  /* Make icons larger in collapsed sidebar but not too big */
  .playful-sider.ant-layout-sider-collapsed .sidebar-menu .ant-menu-item span[role="img"],
  .playful-sider.ant-layout-sider-collapsed .sidebar-menu span[role="img"] {
    font-size: 28px !important;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    margin-right: 0;
    pointer-events: none; /* This ensures clicks pass through to the link */
  }

  /* Add clear hover effect for icons in collapsed sidebar */
  .playful-sider.ant-layout-sider-collapsed .sidebar-menu .ant-menu-item:hover {
    background-color: hsl(var(--playful-menu-item-hover-background)) !important;
    transform: scale(1.05);
    transition: all 0.2s ease;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* Make selected item clearly visible */
  .playful-sider.ant-layout-sider-collapsed .sidebar-menu .ant-menu-item-selected {
    background-color: hsl(var(--playful-menu-item-selected-background)) !important;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transform: none;
  }

  /* Normal state icon styling - consistent alignment */
  .sidebar-icon-link {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
  }

  /* Normal state icon size - matching collapsed state */
  .sidebar-icon-link span[role="img"] {
    font-size: 28px !important; /* Match collapsed state icon size */
    margin-right: 16px;
  }

  /* Make selected item clearly visible in expanded state - consistent with collapsed state */
  .playful-sider .sidebar-menu .ant-menu-item-selected {
    background-color: hsl(var(--playful-menu-item-selected-background)) !important;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* Normal state menu item layout - consistent with collapsed state */
  .playful-sider .ant-menu-item {
    display: flex;
    align-items: center;
    justify-content: flex-start; /* Align items to the left */
    height: 50px; /* Match collapsed state height */
    padding: 0 16px;
    margin: 8px 0; /* Match collapsed state margin */
  }

  /* Ensure text is visible and properly aligned with icons in expanded mode */
  .playful-sider .sidebar-text-link {
    display: flex;
    align-items: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 16px;
    height: 100%;
  }

  /* Hide the text label in collapsed mode but keep icon links visible */
  .playful-sider.ant-layout-sider-collapsed .sidebar-menu .ant-menu-item .sidebar-text-link {
    display: none;
  }

  /* Ensure icon links are clickable and take full space in collapsed mode */
  .playful-sider.ant-layout-sider-collapsed .sidebar-menu .ant-menu-item .sidebar-icon-link {
    display: flex;
    width: 100%;
    height: 100%;
    z-index: 5;
    margin-right: 0;
  }

  /* SVG logo styling that adapts to theme */
  .sidebar-logo {
    display: inline-block;
    width: auto;
    height: 100%; /* Scales with container height */
    color: hsl(var(--playful-sider-logo-text-color));
    transition: color 200ms;
  }

  /* Add card shadow styling */
  .ant-card {
    box-shadow: var(--playful-card-shadow);
    transition: box-shadow 0.3s ease, transform 0.2s ease;
    border-radius: var(--radius);
  }

  .ant-card:hover {
    box-shadow: var(--playful-card-shadow-hover);
    transform: translateY(-2px);
  }

  /* Add button shadow styling */
  .ant-btn-primary {
    box-shadow: var(--playful-button-shadow);
    transition: box-shadow 0.3s ease, transform 0.2s ease;
  }

  .ant-btn-primary:hover {
    box-shadow: var(--playful-button-shadow-hover);
    transform: translateY(-1px);
  }

  /* Add shadow to regular buttons on hover */
  .ant-btn:not(.ant-btn-primary):hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transform: translateY(-1px);
  }

  /* Enhanced styling for all components */

  /* Input fields */
  .ant-input,
  .ant-input-affix-wrapper,
  .ant-input-number,
  .ant-picker {
    box-shadow: var(--shadow-xs);
    transition: all 0.3s ease;
    border-radius: var(--radius);
  }

  .ant-input:hover,
  .ant-input-affix-wrapper:hover,
  .ant-input-number:hover,
  .ant-picker:hover {
    box-shadow: var(--shadow-sm);
    transform: translateY(-1px);
  }

  .ant-input:focus,
  .ant-input-affix-wrapper-focused,
  .ant-input-number-focused,
  .ant-picker-focused {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  /* Select dropdowns */
  .ant-select-selector {
    box-shadow: var(--shadow-xs) !important;
    transition: all 0.3s ease !important;
    border-radius: var(--radius) !important;
  }

  .ant-select:hover .ant-select-selector {
    box-shadow: var(--shadow-sm) !important;
    transform: translateY(-1px);
  }

  .ant-select-focused .ant-select-selector {
    box-shadow: var(--shadow-md) !important;
    transform: translateY(-2px);
  }

  /* Dropdown panels */
  .ant-select-dropdown,
  .ant-cascader-dropdown,
  .ant-picker-dropdown,
  .ant-dropdown {
    box-shadow: var(--shadow-lg) !important;
    border-radius: var(--radius) !important;
    animation: dropdownFadeIn 0.2s ease-out;
  }

  @keyframes dropdownFadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Modals and dialogs */
  .ant-modal-content,
  .ant-drawer-content {
    box-shadow: var(--shadow-xl) !important;
    border-radius: var(--radius) !important;
  }

  /* Tabs */
  .ant-tabs-tab {
    transition: all 0.3s ease;
  }

  .ant-tabs-tab:hover {
    transform: translateY(-2px);
  }

  .ant-tabs-tab-active {
    box-shadow: var(--shadow-sm);
  }

  /* Tooltips and popovers */
  .ant-tooltip-inner,
  .ant-popover-inner {
    box-shadow: var(--shadow-lg) !important;
    border-radius: var(--radius) !important;
  }

  /* Badges */
  .ant-badge-count {
    box-shadow: var(--shadow-xs);
  }

  /* Tags */
  .ant-tag {
    box-shadow: var(--shadow-xs);
    transition: all 0.3s ease;
  }

  .ant-tag:hover {
    box-shadow: var(--shadow-sm);
    transform: translateY(-1px) scale(1.05);
  }

  /* Avatars */
  .ant-avatar {
    box-shadow: var(--shadow-sm);
    transition: all 0.3s ease;
  }

  .ant-avatar:hover {
    box-shadow: var(--shadow-md);
    transform: scale(1.05);
  }

  /* Lists */
  .ant-list-item {
    transition: all 0.3s ease;
  }

  .ant-list-item:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px) scale(1.01);
    z-index: 1;
  }

  /* Tables */
  .ant-table {
    box-shadow: var(--shadow-md);
    border-radius: var(--radius);
    overflow: hidden;
  }

  .ant-table-row:hover td {
    box-shadow: inset 0 0 0 9999px rgba(0, 0, 0, 0.02);
    transform: translateY(-1px);
  }

  /* Alerts */
  .ant-alert {
    box-shadow: var(--shadow-sm);
    border-radius: var(--radius);
    transition: all 0.3s ease;
  }

  .ant-alert:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
  }

  /* Checkboxes and Radio buttons */
  .ant-checkbox-checked .ant-checkbox-inner,
  .ant-radio-checked .ant-radio-inner {
    box-shadow: var(--shadow-xs);
  }

  /* Switches */
  .ant-switch {
    box-shadow: var(--shadow-xs);
    transition: all 0.3s ease;
  }

  .ant-switch:hover {
    box-shadow: var(--shadow-sm);
  }

  /* Timeline */
  .ant-timeline-item-head {
    box-shadow: var(--shadow-xs);
  }

  /* Steps */
  .ant-steps-item-icon {
    box-shadow: var(--shadow-sm);
    transition: all 0.3s ease;
  }

  .ant-steps-item-active .ant-steps-item-icon {
    box-shadow: var(--shadow-md);
    transform: scale(1.05);
  }

  /* Enhance card hover effect */
  .ant-card:hover {
    box-shadow: var(--playful-card-shadow-hover);
    transform: translateY(-3px) scale(1.02);
  }

  /* Enhance button hover effects */
  .ant-btn-primary:hover {
    box-shadow: var(--playful-button-shadow-hover);
    transform: translateY(-2px) scale(1.03);
  }

  .ant-btn:not(.ant-btn-primary):hover {
    box-shadow: var(--shadow-hover-md);
    transform: translateY(-2px) scale(1.02);
  }

  /* Add subtle animation to all interactive elements */
  .ant-btn,
  .ant-card,
  .ant-input,
  .ant-select,
  .ant-checkbox,
  .ant-radio,
  .ant-switch,
  .ant-tag,
  .ant-avatar,
  .ant-tabs-tab,
  .ant-menu-item,
  .ant-dropdown-menu-item {
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  }

  /* Responsive styles for mobile */
  @media (max-width: 768px) {
    /* Adjust card styles for mobile */
    .ant-card {
      margin-bottom: 16px;
    }

    /* Adjust form items for mobile */
    .ant-form-item {
      margin-bottom: 16px;
    }

    /* Make tables responsive */
    .ant-table {
      overflow-x: auto;
      display: block;
    }

    /* Adjust modal width for mobile */
    .ant-modal {
      max-width: 95%;
      margin: 0 auto;
    }

    /* Adjust drawer width for mobile */
    .ant-drawer {
      width: 85% !important;
    }

    /* Mobile sidebar menu styles */
    .mobile-sidebar-menu.sidebar-menu {
      height: auto;
      padding: 10px 0;
    }

    .mobile-sidebar-menu .ant-menu-item {
      height: 45px;
      margin: 5px 10px;
    }

    /* Responsive footer adjustments */
    .responsive-footer .footer-center {
      gap: 8px;
    }

    .responsive-footer .footer-left,
    .responsive-footer .footer-right {
      font-size: 10px;
    }

    /* Adjust list items for mobile */
    .ant-list-item {
      padding: 12px 8px;
    }

    /* Adjust tabs for mobile */
    .ant-tabs-tab {
      padding: 8px 12px;
      margin: 0 4px;
    }

    /* Adjust buttons for mobile */
    .ant-btn {
      padding: 4px 12px;
      height: auto;
      min-height: 32px;
    }

    /* Adjust inputs for mobile */
    .ant-input {
      padding: 8px 12px;
    }

    /* Adjust dropdown menus for mobile */
    .ant-dropdown-menu {
      min-width: 120px;
    }

    /* Adjust tooltips for mobile */
    .ant-tooltip {
      max-width: 200px;
    }
  }
}
